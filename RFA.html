<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>RF Amplifier with Smith Chart</title>
    <script src="js/jsxgraphcore.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jsxgraph.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        .home-title {
            padding: 0px 0px 25px !important;
        }

        [id*="-title"] {
            text-align: center;
            font-weight: bold;
        }

        .theory-item1 {
            font-size: 18px
        }

        .theory-item2 {
            border-top: 1px solid grey;
            padding-top: 0;
        }

        .tsdv {
            grid-template-columns:1fr 1fr 1fr 1fr;
        }

        #table-sMatrix, #table-Rolllet, #table-CircleLS, #table-biDir, #table-oneDir {
            font-family: Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #ddd;
        }

        th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: center;
            background-color: #04AA6D;
            color: white;
        }
    </style>
</head>
<body>
<div class="theory">
    <div class="home-title"><a href="index.html" target="_self"><img src="data/img/house.png" width="42px"></a> RF
        Amplifier with Smith Chart
    </div>
    <div class="theory-item1" style="display: none">
        <a href="mod_lumped-elements.html">PHTK dùng phần tử kháng </a>
        <a class="active" href="RFA.html">PHTK dùng dây chêm đơn song song</a>
        <a href="mod_single-series_stub.html">PHTK dùng dây chêm đơn nối tiếp</a>
        <a href="mod_double-stub.html">PHTK dùng dây chêm kép</a>
        <a href="mod_quarter-wave.html">PHTK dùng biến áp &lambda;/4</a>
    </div>
    <div class="theory-item2">
        <div id="item-2">
            <form id="smith-input-parameters" style="font-size: 1.2rem">
                <h2 style="text-align: center; text-transform: uppercase">Tham số đầu vào</h2>
                <div class="tsdv">
                    <div id="S11">
                        <h4>Hệ số S11: </h4>
                        <label>S11 &nbsp;= </label>
                        <input name="modS11" style="width: 80px" type="number" min="0" step="0.001"
                               oninvalid="this.setCustomValidity('Module hệ số S11')"
                               oninput="this.setCustomValidity('')"> &ang;
                        <input name="argS11" style="width: 100px" type="number" step="0.001"
                               oninvalid="this.setCustomValidity('Góc của S11')"
                               oninput="this.setCustomValidity('')">
                    </div>
                    <div id="S12">
                        <h4>Hệ số S12: </h4>
                        <label>S12 &nbsp;= </label>
                        <input name="modS12" style="width: 80px" type="number" min="0" step="0.001"
                               oninvalid="this.setCustomValidity('Module hệ số S12')"
                               oninput="this.setCustomValidity('')"> &ang;
                        <input name="argS12" style="width: 100px" type="number" step="0.001"
                               oninvalid="this.setCustomValidity('Góc của S12')"
                               oninput="this.setCustomValidity('')">
                    </div>
                    <div id="S21">
                        <h4>Hệ số S21: </h4>
                        <label>S21 &nbsp;= </label>
                        <input name="modS21" style="width: 80px" type="number" min="0" step="0.001"
                               oninvalid="this.setCustomValidity('Module hệ số S21')"
                               oninput="this.setCustomValidity('')"> &ang;
                        <input name="argS21" style="width: 100px" type="number" step="0.001"
                               oninvalid="this.setCustomValidity('Góc của S21')"
                               oninput="this.setCustomValidity('')">
                    </div>
                    <div id="S22">
                        <h4>Hệ số S22: </h4>
                        <label>S22 &nbsp;= </label>
                        <input name="modS22" style="width: 80px" type="number" min="0" step="0.001"
                               oninvalid="this.setCustomValidity('Module hệ số S22')"
                               oninput="this.setCustomValidity('')"> &ang;
                        <input name="argS22" style="width: 100px" type="number" step="0.001"
                               oninvalid="this.setCustomValidity('Góc của S22')"
                               oninput="this.setCustomValidity('')">
                    </div>

                    <!--<div id="Z-line">
                        <h4>Trở kháng đường truyền:</h4>
                        <label>Z0 &nbsp;=</label>
                        <input name="Z0" style="width: 80px" type="number" min="0" step="0.1"
                               oninvalid="this.setCustomValidity('Hãy nhập giá trị Z0')"
                               oninput="this.setCustomValidity('')"><br>
                    </div>-->
                    <!--                    <div id="frequency">
                                            <h4>Tần số</h4>
                                            <label>f &nbsp;=</label>
                                            <input name="f" style="width: 80px" type="number" min="0" step="0.1"
                                                   oninvalid="this.setCustomValidity('Hãy nhập giá trị tần số f')"
                                                   oninput="this.setCustomValidity('')"><b> GHz</b><br>
                                        </div>-->
                    <div id="gain-a">
                        <h4>Hệ số GTmax</h4>
                        <label>GTmax &nbsp;=</label>
                        <input name="gain-a" style="width: 80px" type="number" min="0" step="0.1"
                               oninvalid="this.setCustomValidity('Hãy nhập giá trị Ga(dB)')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="gain-p">
                        <h4>Hệ số Gp</h4>
                        <label>Gp &nbsp;=</label>
                        <input name="gain-p" style="width: 80px" type="number" min="0" step="0.1"
                               oninvalid="this.setCustomValidity('Hãy nhập giá trị Gp(dB)')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="gain-t">
                        <h4>Hệ số GT</h4>
                        <label>GT &nbsp;=</label>
                        <input name="gain-t" style="width: 80px" type="number" min="0" step="0.1"
                               oninvalid="this.setCustomValidity('Hãy nhập giá trị GT(dB)')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="realR">
                        <h4>Bán kính thực tế của đường tròn đơn vị</h4>
                        <label>R thực tế =</label>
                        <input name="realR" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Hãy nhập bán kính thực tế của đường tròn đơn vị')"
                               oninput="this.setCustomValidity('')"><b> cm</b><br>
                    </div>
                    <div id="gsgl1">
                        <h4>Vòng tròn GS1, GL1 cần vẽ thêm</h4>
                        <label>GS1 =</label>
                        <input name="GS1" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GS1')"
                               oninput="this.setCustomValidity('')"><b> dB,</b>&nbsp;&nbsp;&nbsp;
                        <label>GL1 =</label>
                        <input name="GL1" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GL1')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="gsgl2">
                        <h4>Vòng tròn GS2, GL2 cần vẽ thêm</h4>
                        <label>GS2 =</label>
                        <input name="GS2" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GS2')"
                               oninput="this.setCustomValidity('')"><b> dB,</b>&nbsp;&nbsp;&nbsp;
                        <label>GL2 =</label>
                        <input name="GL2" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GL2')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="gsgl3">
                        <h4>Vòng tròn GS3, GL3 cần vẽ thêm</h4>
                        <label>GS3 =</label>
                        <input name="GS3" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GS3')"
                               oninput="this.setCustomValidity('')"><b> dB,</b>&nbsp;&nbsp;&nbsp;
                        <label>GL3 =</label>
                        <input name="GL3" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GL3')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                    <div id="gsgl4">
                        <h4>Vòng tròn GS4, GL4 cần vẽ thêm</h4>
                        <label>GS4 =</label>
                        <input name="GS4" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GS4')"
                               oninput="this.setCustomValidity('')"><b> dB,</b>&nbsp;&nbsp;&nbsp;
                        <label>GL4 =</label>
                        <input name="GL4" style="width: 80px" type="number" min="0" step="0.01"
                               oninvalid="this.setCustomValidity('Giá trị GL4')"
                               oninput="this.setCustomValidity('')"><b> dB</b><br>
                    </div>
                </div>

                <hr>
                <div style="text-align: center">
                    <input type="submit" class="btn btn-primary" id="smith-chart-calculate" value="Xác nhận">
<!--                    <button class="btn btn-primary" id="smith-chart-clear">Xóa</button>-->
                </div>
            </form>
        </div>
        <div id="item-3">
            <div class="jxgbox" id="box" style="margin:0 auto"></div>
            <div class="overlay" style="display: none"></div>
            <div class="circle" style="display: none"></div>
        </div>
        <div id="item-4">
            <!--            <h4 style="text-align: center">Các bước thực hiện</h4>-->
            <table id="table-sMatrix" style="display: none">
                <tr>
                    <th id="S-matrix" colspan="2"></th>
                </tr>
                <tr>
                    <td id="S11-comp"></td>
                    <td id="S12-comp"></td>
                </tr>
                <tr>
                    <td id="S21-comp"></td>
                    <td id="S22-comp"></td>
                </tr>
            </table>


            <table id="table-Rolllet" style="display: none">
                <tr>
                    <th id="Rolllet-title" colspan="2">Tiêu chuẩn Rollet (Tiêu chuẩn K - &#8710;)</th>
                </tr>
                <tr>
                    <td id="Rol-Del">$\Delta=S_{11}S_{22}-S_{12}S_{21}$</td>
                    <td id="Rol-Del-Result"></td>
                </tr>
                <tr>
                    <td id="Rol-mDel">$\vert\Delta\vert=\vert S_{11}S_{22}-S_{12}S_{21}\vert\lt 1$</td>
                    <td id="Rol-mDel-Result"></td>
                </tr>
                <tr>
                    <td id="Rol-K">$K={\dfrac{1-|S_{11}|^{2}-|S_{22}|^{2}+|\Delta|^{2}}{2|S_{12}S_{21}|}}\gt 1$</td>
                    <td id="Rol-K-Result"></td>
                </tr>
            </table>
            <div id="type-stable"></div>

            <table id="table-CircleLS" style="display: none">
                <tr>
                    <th id="CircleLS-title" colspan="2">Tâm và bán kính các đường tròn nguồn và tải</th>
                </tr>
                <tr>
                    <td id="Load-CL">$C_{L}=\dfrac{\big(S_{22}-\Delta S_{11}^{*}\big)^{*}}{|S_{22}|^{2}-|\Delta|^{2}}$
                    </td>
                    <td id="Load-CL-Result"></td>
                </tr>
                <tr>
                    <td id="Load-RL">$R_{L}=\left|\dfrac{S_{12}S_{21}}{\vert
                        S_{22}\vert^{2}-\vert\Delta\vert^{2}}\right|$
                    </td>
                    <td id="Load-RL-Result"></td>
                </tr>
                <tr>
                    <td id="Load-CS">$C_S={\dfrac{(S_{11}-\Delta S_{22}^{*})^{*}}{|S_{11}|^{2}-|\Delta|^{2}}}$</td>
                    <td id="Load-CS-Result"></td>
                </tr>
                <tr>
                    <td id="Load-RS">$R_{S}=\left|{\dfrac{S_{12}S_{21}}{\vert
                        S_{11}\vert^{2}-\vert\Delta\vert^{2}}}\right|$
                    </td>
                    <td id="Load-RS-Result"></td>
                </tr>
                <tr>
                    <td id="U-title" colspan="2">Xác định tính đơn hướng, song hướng</td>
                </tr>
                <tr>
                    <td id="Udir">
                        $U={\dfrac{|S_{12}||S_{21}||S_{11}||S_{22}|}{\left(1-|S_{11}|^{2}\right)\left(1-|S_{22}|^{2}\right)}}$
                    </td>
                    <td id="Udir-result"></td>
                </tr>
                <tr>
                    <td id="GT-error">$\dfrac{1}{(1+U)^{2}}\lt \dfrac{G_{T}}{G_{T U}}\lt \dfrac{1}{(1-U)^{2}}$</td>
                    <td id="GT-error-result"></td>
                </tr>
            </table>


            <table id="table-biDir" style="display: none">
                <tr>
                    <th id="biDir-title" colspan="2">Tâm và bán kính đường tròn Gp</th>
                </tr>
                <tr>
                    <td id="Gp-dB" colspan="2">
                        $G_{p}=\dfrac{|S_{21}|^{2}\left(1-|\Gamma_{L}|^{2}\right)}{\left(1-\left|\dfrac{S_{11}-\Delta\Gamma_{L}}{1-S_{22}\Gamma_{L}}\right|^{2}\right)|1-S_{22}\Gamma_{L}|^{2}}=|S_{21}|^{2}\,g_{p}$
                    </td>
                </tr>
                <tr>
                    <td id="gp-unit">${g_p} = \dfrac{{{G_p}}}{{{{\left| {{S_{21}}} \right|}^2}}} =
                        \dfrac{{{{10}^{\frac{{{G_p}(dB)}}{{10}}}}}}{{{{\left| {{S_{21}}} \right|}^2}}}$
                    </td>
                    <td id="gp-unit-Result"></td>
                </tr>
                <tr>
                    <td id="Cp-stable">
                        $C_{p}=\dfrac{g_{p}(S_{22}^{*}-\Delta^{*}S_{11})}{1+g_{p}(|S_{22}|^{2}-|\Delta|^{2})}$
                    </td>
                    <td id="Cp-stable-Result"></td>
                </tr>
                <tr>
                    <td id="Rp-stable">$R_p(radius)=\dfrac{\sqrt{1-2 K\left|S_{12} S_{21}\right| g_{p}+\left|S_{12}
                        S_{21}\right|^2 g_{p}^2}}{\left|1+g_{p}\left(\left|S_{22}\right|^2-|\Delta|^2\right)\right|}$
                    </td>
                    <td id="Rp-stable-Result"></td>
                </tr>
                <tr>
                    <td class="gL-res"></td>
                    <td class="is-load-stable"></td>
                </tr>
                <tr>
                    <td class="gS-res">$\Gamma _{S}=\Gamma _{in}^* = \left( {{S_{11}} + \dfrac{{{S_{12}}{S_{21}}{\Gamma
                        _L}}}{{1 - {S_{22}}{\Gamma _L}}}} \right)^*$
                    </td>
                    <td class="is-source-stable"></td>
                </tr>
                <tr>
                    <td class="GSdb"></td>
                    <td class="GLdb"></td>
                </tr>
            </table>

            <table id="table-oneDir" style="display: none">
                <tr>
                    <th id="oneDir-title" colspan="2">Vẽ các vòng tròn ứng với các hệ số khuếch đại lựa chọn</th>
                </tr>
                <tr>
                    <td id="oneDir-gs">
                        $g_{S}=\dfrac{G_{S}}{G_{\mathrm{Smax}}}=\dfrac{1-|\Gamma_{S}|^{2}}{|1-S_{11}\Gamma_{S}|^{2}}(1-|S_{11}|^{2})$
                    </td>
                    <td id="oneDir-gs-result"></td>
                </tr>
                <tr>
                    <td id="oneDir-gL">
                        $g_{L}={\dfrac{G_{L}}{G_{L_{\mathrm{max}}}}}={\dfrac{1-|\Gamma_{L}|^{2}}{|1-S_{22}\Gamma_{L}|^{2}}}{\big(}1-|S_{22}|^{2}{\big)}$
                    </td>
                    <td id="oneDir-gL-result"></td>
                </tr>
                <tr>
                    <td id="Cs-stable">$C_S={\dfrac{g s S_{11}^{*}}{1-(1-g_{S})|S_{11}|^{2}}}$</td>
                    <td id="Cs-stable-Result"></td>
                </tr>
                <tr>
                    <td id="Rs-stable">$R_{S}=\dfrac{\sqrt{1-g s}(1-|S_{11}|^{2})}{1-(1-g s)|S_{11}|^{2}}$</td>
                    <td id="Rs-stable-Result"></td>
                </tr>
                <tr>
                    <td id="CL-stable">$C_{L}=\dfrac{g_{L}S_{22}^{*}}{1-(1-g_{L})|S_{22}|^{2}}$</td>
                    <td id="CL-stable-Result"></td>
                </tr>
                <tr>
                    <td id="RL-stable">
                        $R_{L}={\dfrac{\sqrt{1-g_{L}}\left(1-|S_{22}|^{2}\right)}{1-(1-g_{L})|S_{22}|^{2}}}$
                    </td>
                    <td id="RL-stable-Result"></td>
                </tr>
                <tr>
                    <td class="gL-res"></td>
                    <td class="is-load-stable"></td>
                </tr>
                <tr>
                    <td class="gS-res"></td>
                    <td class="is-source-stable"></td>
                </tr>
                <tr>
                    <td class="GSdb"></td>
                    <td class="GLdb"></td>
                </tr>
                <!--<tr>
                    <td colspan="2">
                        <button id="addmore" class="btn btn-primary">Thêm</button>
                    </td>
                </tr>
                <tr>
                    <form id="draw_GSGL">

                        <input type="submit" class="btn btn-primary" id="calc_GSGL" value="Vẽ">
                    </form>
                </tr>-->
            </table>

            <div id="PHTK-RF" style="display: none">
                <button id="PHTK-Source" class="btn btn-success">PHTK Nguồn</button>
                <button id="PHTK-Load" class="btn btn-success">PHTK Tải</button>
            </div>

        </div>
        <div id="item-5">
            <h2>KẾT QUẢ</h2>
        </div>
        <div id="item-6">
            <img id="solution1" src="data/img/ShuntStub-Source.png">
            <p id="Z01-sol1"></p>
            <p id="Z02-sol1"></p>
            <p id="Z03-sol1"></p>
            <p id="d-sol1"></p>
            <p id="l-sol1"></p>

            <p id="ZLss-sol1"></p>
        </div>
        <div id="item-7">
            <img id="solution2" src="data/img/ShuntStub-Load.png">
            <p id="Z01-sol2"></p>
            <p id="Z02-sol2"></p>
            <p id="Z03-sol2"></p>
            <p id="d-sol2"></p>
            <p id="l-sol2"></p>

            <p id="ZLss-sol2"></p>
        </div>

    </div>
</div>
<div class="text-container" id="text-container"></div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const textContainer = document.getElementById("text-container");
        const textContent = "Nguyễn Văn Tuấn - Kỹ thuật điện tử - Cao Học 35A";
        const delayBetweenCharacters = 50; // 0.2s
        const pauseBeforeReset = 10000; // 10s

        let index = 0;

        function animateText() {
            if (RFA < textContent.length) {
                textContainer.textContent += textContent[RFA];
                RFA++;
                setTimeout(animateText, delayBetweenCharacters);
            } else {
                setTimeout(resetText, pauseBeforeReset);
            }
        }

        function resetText() {
            textContainer.textContent = "";
            RFA = 0;
            setTimeout(animateText, 0);
        }

        animateText();

    });

</script>
<script src="js/jquery-3.6.1.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/math-complex.min.js"></script>
<script src="js/my.js"></script>
<script src="js/RFA.js"></script>
</body>
</html>